{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/cadu/Driven/Projetos/Projeto_11_Linkr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"/home/cadu/Driven/Projetos/Projeto_11_Linkr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/cadu/Driven/Projetos/Projeto_11_Linkr/src/components/shared/FollowButton.js\",\n    _s = $RefreshSig$(),\n    _templateObject;\n\nimport { useContext, useState } from \"react\";\nimport styled from \"styled-components\";\nimport UserContext from \"../../contexts/UserContext\";\nimport { toggleFollow } from \"../../service/API\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Follow(_ref) {\n  _s();\n\n  var followingList = _ref.followingList,\n      userId = _ref.userId;\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user;\n\n  var _useState = useState(followingList.some(function (item) {\n    return item.id === Number(userId);\n  })),\n      _useState2 = _slicedToArray(_useState, 2),\n      following = _useState2[0],\n      setFollowing = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isDisabled = _useState4[0],\n      setIsDisabled = _useState4[1];\n\n  function changeFollow() {\n    setIsDisabled(true);\n\n    if (following) {\n      setFollowing(false);\n      toggleFollow({\n        token: user.token,\n        userId: userId,\n        status: 'unfollow'\n      }).then(function () {\n        setIsDisabled(false);\n      }).catch(function () {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Ops...\",\n          text: \"Houve uma falha na resposta do servidor, por favor atualize a página\"\n        });\n      });\n    } else {\n      setFollowing(true);\n      toggleFollow({\n        token: user.token,\n        userId: userId,\n        status: 'follow'\n      }).then(function () {\n        setIsDisabled(false);\n      }).catch(function () {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Ops...\",\n          text: \"Houve uma falha na resposta do servidor, por favor atualize a página\"\n        });\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Button, {\n    onClick: changeFollow,\n    disabled: isDisabled,\n    state: following,\n    children: following ? 'Unfollow' : 'Follow'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Follow, \"L7kv4b80c9MjxQh0v5OSrmBCT5U=\");\n\n_c = Follow;\nvar Button = styled.button(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    width: 112px;\\n    height: 31px;\\n    font-size: 14px;\\n    font-weight: 700;\\n    border: none;\\n    border-radius: 5px;\\n    margin-top: 132px;\\n    // Lembrete de alterar a organiza\\xE7\\xE3o flex-box na revis\\xE3o final\\n    margin-bottom: -153px;\\n    align-self: flex-end;\\n    background-color: \", \";\\n    color: \", \";\\n    cursor: pointer;\\n    pointer-events: \", \";\\n\\n    @media (max-width: 960px) {\\n        display: none;\\n    }\\n\"])), function (props) {\n  return props.state ? '#ffffff' : '#1877f2';\n}, function (props) {\n  return props.state ? '#1877f2' : '#ffffff';\n}, function (props) {\n  return props.disabled ? 'none' : 'all';\n});\n_c2 = Button;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Follow\");\n$RefreshReg$(_c2, \"Button\");","map":{"version":3,"sources":["/home/cadu/Driven/Projetos/Projeto_11_Linkr/src/components/shared/FollowButton.js"],"names":["useContext","useState","styled","UserContext","toggleFollow","Swal","Follow","followingList","userId","user","some","item","id","Number","following","setFollowing","isDisabled","setIsDisabled","changeFollow","token","status","then","catch","fire","icon","title","text","Button","button","props","state","disabled"],"mappings":";;;;;;;AAAA,SAASA,UAAT,EAAqBC,QAArB,QAAqC,OAArC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,SAASC,YAAT,QAA6B,mBAA7B;AACA,OAAOC,IAAP,MAAiB,aAAjB;;AAEA,eAAe,SAASC,MAAT,OAA2C;AAAA;;AAAA,MAAzBC,aAAyB,QAAzBA,aAAyB;AAAA,MAAVC,MAAU,QAAVA,MAAU;;AAEtD,oBAAiBR,UAAU,CAACG,WAAD,CAA3B;AAAA,MAAQM,IAAR,eAAQA,IAAR;;AACA,kBAAkCR,QAAQ,CAACM,aAAa,CAACG,IAAd,CAAmB,UAAAC,IAAI;AAAA,WAAIA,IAAI,CAACC,EAAL,KAAYC,MAAM,CAACL,MAAD,CAAtB;AAAA,GAAvB,CAAD,CAA1C;AAAA;AAAA,MAAOM,SAAP;AAAA,MAAkBC,YAAlB;;AACA,mBAAoCd,QAAQ,CAAC,KAAD,CAA5C;AAAA;AAAA,MAAOe,UAAP;AAAA,MAAmBC,aAAnB;;AAEA,WAASC,YAAT,GAAwB;AACpBD,IAAAA,aAAa,CAAC,IAAD,CAAb;;AAEA,QAAGH,SAAH,EAAc;AACVC,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAX,MAAAA,YAAY,CAAC;AAAEe,QAAAA,KAAK,EAAEV,IAAI,CAACU,KAAd;AAAqBX,QAAAA,MAAM,EAAEA,MAA7B;AAAqCY,QAAAA,MAAM,EAAE;AAA7C,OAAD,CAAZ,CACKC,IADL,CACU,YAAM;AACRJ,QAAAA,aAAa,CAAC,KAAD,CAAb;AACH,OAHL,EAIKK,KAJL,CAIW,YAAM;AACTjB,QAAAA,IAAI,CAACkB,IAAL,CAAU;AACNC,UAAAA,IAAI,EAAE,OADA;AAENC,UAAAA,KAAK,EAAE,QAFD;AAGNC,UAAAA,IAAI,EAAE;AAHA,SAAV;AAKH,OAVL;AAWH,KAbD,MAaO;AACHX,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACAX,MAAAA,YAAY,CAAC;AAAEe,QAAAA,KAAK,EAAEV,IAAI,CAACU,KAAd;AAAqBX,QAAAA,MAAM,EAAEA,MAA7B;AAAqCY,QAAAA,MAAM,EAAE;AAA7C,OAAD,CAAZ,CACKC,IADL,CACU,YAAM;AACRJ,QAAAA,aAAa,CAAC,KAAD,CAAb;AACH,OAHL,EAIKK,KAJL,CAIW,YAAM;AACTjB,QAAAA,IAAI,CAACkB,IAAL,CAAU;AACNC,UAAAA,IAAI,EAAE,OADA;AAENC,UAAAA,KAAK,EAAE,QAFD;AAGNC,UAAAA,IAAI,EAAE;AAHA,SAAV;AAKH,OAVL;AAWH;AACJ;;AAED,sBACI,QAAC,MAAD;AAAQ,IAAA,OAAO,EAAER,YAAjB;AAA+B,IAAA,QAAQ,EAAEF,UAAzC;AAAqD,IAAA,KAAK,EAAEF,SAA5D;AAAA,cAAwEA,SAAS,GAAG,UAAH,GAAgB;AAAjG;AAAA;AAAA;AAAA;AAAA,UADJ;AAGH;;GAzCuBR,M;;KAAAA,M;AA2CxB,IAAMqB,MAAM,GAAGzB,MAAM,CAAC0B,MAAV,qgBAWY,UAAAC,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,GAAc,SAAd,GAA0B,SAA9B;AAAA,CAXjB,EAYC,UAAAD,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,GAAc,SAAd,GAA0B,SAA9B;AAAA,CAZN,EAcU,UAAAD,KAAK;AAAA,SAAIA,KAAK,CAACE,QAAN,GAAiB,MAAjB,GAA0B,KAA9B;AAAA,CAdf,CAAZ;MAAMJ,M","sourcesContent":["import { useContext, useState } from \"react\";\nimport styled from \"styled-components\";\nimport UserContext from \"../../contexts/UserContext\";\nimport { toggleFollow } from \"../../service/API\";\nimport Swal from \"sweetalert2\";\n\nexport default function Follow({ followingList, userId }) {\n\n    const { user } = useContext(UserContext);\n    const [following, setFollowing] = useState(followingList.some(item => item.id === Number(userId)));\n    const [isDisabled, setIsDisabled] = useState(false);\n\n    function changeFollow() {\n        setIsDisabled(true);\n\n        if(following) {\n            setFollowing(false);\n            toggleFollow({ token: user.token, userId: userId, status: 'unfollow' })\n                .then(() => {\n                    setIsDisabled(false);\n                })\n                .catch(() => {\n                    Swal.fire({\n                        icon: \"error\",\n                        title: \"Ops...\",\n                        text: \"Houve uma falha na resposta do servidor, por favor atualize a página\"\n                    })\n                })\n        } else {\n            setFollowing(true);\n            toggleFollow({ token: user.token, userId: userId, status: 'follow' })\n                .then(() => {\n                    setIsDisabled(false);\n                })\n                .catch(() => {\n                    Swal.fire({\n                        icon: \"error\",\n                        title: \"Ops...\",\n                        text: \"Houve uma falha na resposta do servidor, por favor atualize a página\"\n                    })\n                })\n        }\n    }\n\n    return (\n        <Button onClick={changeFollow} disabled={isDisabled} state={following}>{following ? 'Unfollow' : 'Follow'}</Button>\n    );\n}\n\nconst Button = styled.button`\n    width: 112px;\n    height: 31px;\n    font-size: 14px;\n    font-weight: 700;\n    border: none;\n    border-radius: 5px;\n    margin-top: 132px;\n    // Lembrete de alterar a organização flex-box na revisão final\n    margin-bottom: -153px;\n    align-self: flex-end;\n    background-color: ${props => props.state ? '#ffffff' : '#1877f2'};\n    color: ${props => props.state ? '#1877f2' : '#ffffff'};\n    cursor: pointer;\n    pointer-events: ${props => props.disabled ? 'none' : 'all'};\n\n    @media (max-width: 960px) {\n        display: none;\n    }\n`;"]},"metadata":{},"sourceType":"module"}