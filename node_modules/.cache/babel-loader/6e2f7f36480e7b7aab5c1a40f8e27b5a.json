{"ast":null,"code":"import _slicedToArray from \"/home/cadu/Driven/Projetos/Projeto_11_Linkr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/cadu/Driven/Projetos/Projeto_11_Linkr/src/components/shared/UserPost.js\",\n    _s = $RefreshSig$();\n\nimport { Link, useLocation } from 'react-router-dom';\nimport { FiTrash } from \"react-icons/fi\";\nimport { AiOutlineHeart, AiFillHeart, AiOutlineComment } from 'react-icons/ai';\nimport { ContainerUserPost, BoxModal, ModalTitle, ModalConfirm, ModalCancel, HashtagCSS, Interaction, EditBox, MainContent, BoxFrame, Likes } from './ContainerUserPost';\nimport ReactModal from 'react-modal';\nimport { deletePost, getFollowingUsersPosts, getUserPosts } from '../../service/API';\nimport { toggleLike, editPost } from '../../service/API';\nimport UserContext from '../../contexts/UserContext';\nimport ReactTooltip from 'react-tooltip';\nimport { TiPencil } from 'react-icons/ti';\nimport { useEffect, useContext, useRef, useState } from 'react';\nimport { RepostButton, RepostedDiv } from './Repost';\nimport Swal from 'sweetalert2';\nimport getYouTubeID from 'get-youtube-id';\nimport DefaultImg from '../../assets/default.jpg';\nimport { FaMapMarkerAlt } from 'react-icons/fa';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport { containerMapStyles, mapStyle, headerMapStyles } from './modalMapStyles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function UserPost(props) {\n  _s();\n\n  var location = useLocation();\n  var _props$post = props.post,\n      id = _props$post.id,\n      linkTitle = _props$post.linkTitle,\n      text = _props$post.text,\n      linkImage = _props$post.linkImage,\n      linkDescription = _props$post.linkDescription,\n      likes = _props$post.likes,\n      geolocation = _props$post.geolocation,\n      repostedBy = _props$post.repostedBy,\n      repostCount = _props$post.repostCount;\n  var link = props.post.link;\n\n  function checkYoutubeLink(url) {\n    var YoutubePattern = /^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\n\n    if (url.match(YoutubePattern)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  var userInfo = props.userInfo,\n      userId = props.userId,\n      setPosts = props.setPosts,\n      posts = props.posts;\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      tooltipMessage = _useState2[0],\n      setTooltipMessage = _useState2[1];\n\n  var _useState3 = useState(likes.some(function (like) {\n    return like.userId === user.user.id;\n  })),\n      _useState4 = _slicedToArray(_useState3, 2),\n      liked = _useState4[0],\n      setLiked = _useState4[1];\n\n  var _useState5 = useState(likes),\n      _useState6 = _slicedToArray(_useState5, 2),\n      postLikes = _useState6[0],\n      setPostLikes = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      myPost = _useState8[0],\n      setMyPost = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      editMode = _useState10[0],\n      setEditMode = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isDisabled = _useState12[0],\n      setIsDisabled = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      isMapOpen = _useState14[0],\n      setIsMapOpen = _useState14[1];\n\n  var _useState15 = useState(text),\n      _useState16 = _slicedToArray(_useState15, 2),\n      actualText = _useState16[0],\n      setActualText = _useState16[1];\n\n  var textAreaRef = useRef();\n  var effectTooltip = renderTooltip;\n\n  var _useState17 = useState(true),\n      _useState18 = _slicedToArray(_useState17, 2),\n      habilitar = _useState18[0],\n      setHabilitar = _useState18[1];\n\n  ReactModal.setAppElement(document.getElementById('root'));\n\n  var _useState19 = useState(repostCount),\n      _useState20 = _slicedToArray(_useState19, 2),\n      numberOfReposts = _useState20[0],\n      setNumberOfReposts = _useState20[1];\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      isOpen = _useState22[0],\n      setIsopen = _useState22[1];\n\n  var _useState23 = useState(false),\n      _useState24 = _slicedToArray(_useState23, 2),\n      openFrame = _useState24[0],\n      setOpenFrame = _useState24[1];\n\n  var customStyles = {\n    content: {\n      top: '50%',\n      left: '50%',\n      right: 'auto',\n      bottom: 'auto',\n      marginRight: '-50%',\n      transform: 'translate(-50%, -50%)',\n      background: '#333333',\n      borderRadius: '50px',\n      width: '600px',\n      height: '262px',\n      display: 'flex',\n      justifyContent: 'center'\n    }\n  };\n  var frameStyle = {\n    content: {\n      top: '50%',\n      left: '50%',\n      right: '50%',\n      bottom: 'auto',\n      transform: 'translate(-50%, -50%)',\n      background: '#333333',\n      borderRadius: '20px',\n      width: '60vw',\n      height: '90vh',\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    overlay: {\n      zIndex: 3\n    }\n  };\n  useEffect(function () {\n    if (user.user.id === userInfo.id) {\n      setMyPost(true);\n    }\n\n    if (editMode) {\n      checkEditMode();\n    }\n\n    effectTooltip(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editMode, effectTooltip]);\n\n  function isMypost() {\n    if (user.user.id === userInfo.id) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function AbrirModal() {\n    setIsopen(true);\n  }\n\n  function FecharModal() {\n    setIsopen(false);\n    setOpenFrame(false);\n  }\n\n  function ApagarPost(id) {\n    setHabilitar(false);\n    deletePost(user.token, id).then(Sucesso).catch(Erro);\n  }\n\n  function Sucesso() {\n    setHabilitar(true);\n    setIsopen(false);\n    Swal.fire({\n      icon: \"success\",\n      title: \"Post deletado com sucesso!\"\n    });\n\n    if (location.pathname === \"/timeline\") {\n      getFollowingUsersPosts(user.token).then(function (response) {\n        setPosts(response.data.posts);\n      });\n    } else if (location.pathname === \"/my-posts\") {\n      getUserPosts({\n        token: user.token,\n        userId: user.user.id\n      }).then(function (response) {\n        setPosts(response.data.posts);\n      });\n    }\n  }\n\n  function Erro() {\n    setHabilitar(true);\n    setIsopen(false);\n    Swal.fire({\n      icon: \"error\",\n      title: \"Ops...\",\n      text: \"Não foi possível excluir o post, tente novamente\"\n    });\n  }\n\n  function checkHashtag() {\n    var _this = this;\n\n    var textCheck = actualText.split(' ').map(function (word, index) {\n      if (word[0] === '#') {\n        return /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/hashtag/\".concat(word.substring(1), \"/posts\"),\n          children: /*#__PURE__*/_jsxDEV(HashtagCSS, {\n            children: [\" #\", word.substring(1)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, _this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 17\n        }, _this);\n      } else {\n        return \" \".concat(word);\n      }\n    });\n    return textCheck;\n  }\n\n  function renderTooltip() {\n    var usersLikes = [];\n\n    if (postLikes.length !== 0) {\n      usersLikes = postLikes.filter(function (item) {\n        if (item.userId === id) return false;\n        return true;\n      });\n    }\n\n    if (postLikes === likes) {\n      switch (postLikes.length) {\n        case 0:\n          setTooltipMessage('');\n          return;\n\n        case 1:\n          setTooltipMessage(\"\".concat(liked ? 'Você' : postLikes[0]['user.username'], \" curtiu\"));\n          break;\n\n        case 2:\n          setTooltipMessage(\"\".concat(liked ? 'Você e ' + usersLikes[0]['user.username'] : postLikes[0]['user.username'] + ' e ' + postLikes[1]['user.username'], \" curtiram\"));\n          break;\n\n        default:\n          setTooltipMessage(\"\".concat(liked ? 'Você, ' + usersLikes[0]['user.username'] : postLikes[0]['user.username'] + ', ' + postLikes[1]['user.username'], \" e outras \").concat(postLikes.length - 2, \" pessoas\"));\n      }\n    } else {\n      switch (postLikes.length) {\n        case 0:\n          setTooltipMessage('');\n          return;\n\n        case 1:\n          setTooltipMessage(\"\".concat(liked ? 'Você' : postLikes[0].username, \" curtiu\"));\n          break;\n\n        case 2:\n          setTooltipMessage(\"\".concat(liked ? 'Você e ' + usersLikes[0].username : postLikes[0].username + ' e ' + postLikes[1].username, \" curtiram\"));\n          break;\n\n        default:\n          setTooltipMessage(\"\".concat(liked ? 'Você, ' + usersLikes[0].username : postLikes[0].username + ', ' + postLikes[1].username, \" e outras \").concat(postLikes.length - 2, \" pessoas\"));\n      }\n    }\n  }\n\n  function changeLike() {\n    if (!liked) {\n      toggleLike({\n        token: user.token,\n        postId: id,\n        status: 'like'\n      }).then(function (response) {\n        setPostLikes(response.data.post.likes);\n        setLiked(true);\n      });\n    } else {\n      toggleLike({\n        token: user.token,\n        postId: id,\n        status: 'dislike'\n      }).then(function (response) {\n        setPostLikes(response.data.post.likes);\n        setLiked(false);\n      });\n    }\n  }\n\n  function checkEditMode() {\n    textAreaRef.current.focus();\n  }\n\n  function pressedKey(event) {\n    if (event.keyCode === 27) {\n      setEditMode(false);\n    }\n\n    if (event.keyCode === 13 && !event.shiftKey) {\n      event.preventDefault();\n      setIsDisabled(true);\n      var body = {\n        text: actualText\n      };\n      editPost({\n        token: user.token,\n        body: body,\n        postId: id\n      }).then(function (response) {\n        setIsDisabled(false);\n        setEditMode(false);\n        setActualText(response.data.post.text);\n      }).catch(function () {\n        Swal.fire({\n          icon: 'error',\n          title: 'Ops...',\n          text: 'Não foi possível salvar as alterações'\n        });\n        textAreaRef.current.focus();\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(ContainerUserPost, {\n    id: \"main\",\n    style: {\n      marginTop: repostedBy ? '50px' : '0'\n    },\n    children: [repostedBy ? /*#__PURE__*/_jsxDEV(RepostedDiv, {\n      repostedBy: repostedBy,\n      id: user.user.id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 27\n    }, this) : null, /*#__PURE__*/_jsxDEV(ReactModal, {\n      isOpen: isOpen,\n      onRequestClose: FecharModal,\n      style: customStyles,\n      contentLabel: \"Example Modal\",\n      children: /*#__PURE__*/_jsxDEV(BoxModal, {\n        children: [/*#__PURE__*/_jsxDEV(ModalTitle, {\n          children: habilitar ? 'Tem certeza que deseja excluir essa publicação' : 'Carregando...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(ModalCancel, {\n            onClick: FecharModal,\n            state: habilitar,\n            children: \"N\\xE3o, voltar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ModalConfirm, {\n            onClick: function onClick() {\n              return ApagarPost(id);\n            },\n            state: habilitar,\n            children: \"Sim, excluir\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 13\n    }, this), geolocation ? /*#__PURE__*/_jsxDEV(ReactModal, {\n      isOpen: isMapOpen,\n      onRequestClose: function onRequestClose() {\n        return setIsMapOpen(false);\n      },\n      style: containerMapStyles,\n      contentLabel: \"Example Modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-header\",\n        style: headerMapStyles,\n        children: [/*#__PURE__*/_jsxDEV(ModalTitle, {\n          style: {\n            fontFamily: 'Oswald, sans-serif',\n            fontWeight: 'bold'\n          },\n          children: [userInfo.username, \"'s location\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'white',\n            cursor: 'pointer',\n            fontFamily: 'Roboto',\n            fontSize: '30px'\n          },\n          onClick: function onClick() {\n            return setIsMapOpen(false);\n          },\n          children: \"x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: [geolocation.latitude, geolocation.longitude],\n        zoom: 14,\n        scrollWheelZoom: false,\n        style: mapStyle,\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Marker, {\n          position: [geolocation.latitude, geolocation.longitude],\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: userInfo.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 13\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"photo-and-likes\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/user/\".concat(userId),\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: userInfo.avatar,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Interaction, {\n        \"data-tip\": tooltipMessage,\n        children: /*#__PURE__*/_jsxDEV(Likes, {\n          \"data-tip\": tooltipMessage,\n          onClick: changeLike,\n          children: [liked ? /*#__PURE__*/_jsxDEV(AiFillHeart, {\n            style: {\n              color: '#ac0000'\n            },\n            onClick: changeLike\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(AiOutlineHeart, {\n            onClick: changeLike\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [postLikes.length, \" \", postLikes.length <= 1 ? 'like' : 'likes']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ReactTooltip, {\n            place: \"bottom\",\n            type: \"light\",\n            backgroundColor: \"#FFFFFF30\",\n            textColor: \"#505050\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(MainContent, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-post\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top-post\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"name-and-location\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/user/\".concat(userId),\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  style: {\n                    maxWidth: '611px',\n                    wordBreak: 'break-word'\n                  },\n                  children: userInfo.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 50\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 21\n            }, this), !!geolocation ? /*#__PURE__*/_jsxDEV(FaMapMarkerAlt, {\n              onClick: function onClick() {\n                return setIsMapOpen(true);\n              },\n              style: {\n                fontSize: '16px',\n                color: '#FFFFFF',\n                marginLeft: '5px',\n                cursor: 'pointer'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 38\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Interaction, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"icons\",\n              children: [myPost ? /*#__PURE__*/_jsxDEV(TiPencil, {\n                onClick: function onClick() {\n                  return setEditMode(!editMode);\n                },\n                style: {\n                  cursor: 'pointer'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 35\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 116\n              }, this), isMypost() ? /*#__PURE__*/_jsxDEV(FiTrash, {\n                onClick: AbrirModal,\n                style: {\n                  marginLeft: '10px',\n                  cursor: 'pointer'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 39\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 120\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(RepostButton, {\n            postId: id,\n            token: user.token,\n            numberOfReposts: numberOfReposts,\n            setNumberOfReposts: setNumberOfReposts,\n            setPosts: setPosts,\n            posts: posts,\n            customStyles: customStyles\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ReactModal, {\n        isOpen: openFrame,\n        onRequestClose: FecharModal,\n        style: frameStyle,\n        contentLabel: \"Example Modal\",\n        children: /*#__PURE__*/_jsxDEV(BoxFrame, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: function onClick() {\n                window.open(link, \"_blank\");\n              },\n              children: \"Open in new tab\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              onClick: FecharModal,\n              children: \"X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n            title: \"Link\",\n            src: link,\n            width: \"100%\",\n            height: \"95%\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-post\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top-post\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/user/\".concat(userId),\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: userInfo.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 61\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 58\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icons\",\n            children: [myPost ? /*#__PURE__*/_jsxDEV(TiPencil, {\n              onClick: function onClick() {\n                return setEditMode(!editMode);\n              },\n              style: {\n                cursor: 'pointer'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 43\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 124\n            }, this), isMypost() ? /*#__PURE__*/_jsxDEV(FiTrash, {\n              onClick: AbrirModal,\n              style: {\n                marginLeft: '10px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 47\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 109\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 25\n        }, this), editMode ? /*#__PURE__*/_jsxDEV(EditBox, {\n          type: \"text\",\n          value: actualText,\n          onChange: function onChange(e) {\n            return setActualText(e.target.value);\n          },\n          ref: textAreaRef,\n          onKeyDown: function onKeyDown(e) {\n            return pressedKey(e);\n          },\n          disabled: isDisabled\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: checkHashtag()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 29\n        }, this), checkYoutubeLink(link) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"iframe\", {\n            src: \"https://www.youtube.com/embed/\".concat(getYouTubeID(link)),\n            title: \"video\",\n            width: \"100%\",\n            height: \"320px\",\n            allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n            allowFullScreen: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: function onClick() {\n              window.open(link, \"_blank\");\n            },\n            style: {\n              cursor: 'pointer'\n            },\n            children: link\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"link-content\",\n          onClick: function onClick() {\n            return setOpenFrame(true);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"link-description\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: linkTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: linkDescription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: link\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: linkImage ? linkImage : DefaultImg,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 288,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UserPost, \"3DuEsHoWhIuzDahyIA5jaXw1xgY=\", false, function () {\n  return [useLocation];\n});\n\n_c = UserPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserPost\");","map":{"version":3,"sources":["/home/cadu/Driven/Projetos/Projeto_11_Linkr/src/components/shared/UserPost.js"],"names":["Link","useLocation","FiTrash","AiOutlineHeart","AiFillHeart","AiOutlineComment","ContainerUserPost","BoxModal","ModalTitle","ModalConfirm","ModalCancel","HashtagCSS","Interaction","EditBox","MainContent","BoxFrame","Likes","ReactModal","deletePost","getFollowingUsersPosts","getUserPosts","toggleLike","editPost","UserContext","ReactTooltip","TiPencil","useEffect","useContext","useRef","useState","RepostButton","RepostedDiv","Swal","getYouTubeID","DefaultImg","FaMapMarkerAlt","MapContainer","TileLayer","Marker","Popup","containerMapStyles","mapStyle","headerMapStyles","UserPost","props","location","post","id","linkTitle","text","linkImage","linkDescription","likes","geolocation","repostedBy","repostCount","link","checkYoutubeLink","url","YoutubePattern","match","userInfo","userId","setPosts","posts","user","tooltipMessage","setTooltipMessage","some","like","liked","setLiked","postLikes","setPostLikes","myPost","setMyPost","editMode","setEditMode","isDisabled","setIsDisabled","isMapOpen","setIsMapOpen","actualText","setActualText","textAreaRef","effectTooltip","renderTooltip","habilitar","setHabilitar","setAppElement","document","getElementById","numberOfReposts","setNumberOfReposts","isOpen","setIsopen","openFrame","setOpenFrame","customStyles","content","top","left","right","bottom","marginRight","transform","background","borderRadius","width","height","display","justifyContent","frameStyle","overlay","zIndex","checkEditMode","isMypost","AbrirModal","FecharModal","ApagarPost","token","then","Sucesso","catch","Erro","fire","icon","title","pathname","response","data","checkHashtag","textCheck","split","map","word","index","substring","usersLikes","length","filter","item","username","changeLike","postId","status","current","focus","pressedKey","event","keyCode","shiftKey","preventDefault","body","marginTop","fontFamily","fontWeight","color","cursor","fontSize","latitude","longitude","avatar","maxWidth","wordBreak","marginLeft","window","open","e","target","value"],"mappings":"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","sourcesContent":["import { Link, useLocation } from 'react-router-dom' \nimport { FiTrash } from \"react-icons/fi\";\nimport { AiOutlineHeart, AiFillHeart, AiOutlineComment } from 'react-icons/ai'\nimport {ContainerUserPost, BoxModal, ModalTitle, ModalConfirm, ModalCancel, HashtagCSS, Interaction, EditBox, MainContent, BoxFrame, Likes } from './ContainerUserPost'\nimport ReactModal from 'react-modal';\nimport { deletePost, getFollowingUsersPosts, getUserPosts } from '../../service/API';\nimport { toggleLike, editPost } from '../../service/API';\nimport UserContext from '../../contexts/UserContext';\nimport ReactTooltip from 'react-tooltip';\nimport { TiPencil } from 'react-icons/ti';\nimport { useEffect, useContext, useRef, useState } from 'react';\nimport {RepostButton, RepostedDiv} from './Repost'\nimport Swal from 'sweetalert2';\nimport getYouTubeID from 'get-youtube-id';\nimport DefaultImg from '../../assets/default.jpg';\nimport {FaMapMarkerAlt} from 'react-icons/fa'\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet'\nimport { containerMapStyles, mapStyle, headerMapStyles } from './modalMapStyles'\n\nexport default function UserPost(props) {\n    let location = useLocation();\n    const {\n        id,\n        linkTitle, \n        text, \n        linkImage, \n        linkDescription,  \n        likes,\n        geolocation,\n        repostedBy,\n        repostCount,\n    } = props.post;\n    let {\n        link,\n    } = props.post\n\n\n    function checkYoutubeLink(url){\n        let YoutubePattern = /^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\n         if(url.match(YoutubePattern)){\n             return true;\n         }\n         else {\n             return false;\n         }\n    }\n    const { userInfo, userId, setPosts, posts } = props;\n    const { user } = useContext(UserContext);\n    const [tooltipMessage, setTooltipMessage] = useState('')\n    const [liked, setLiked] = useState(likes.some(like => like.userId === user.user.id));\n    const [postLikes, setPostLikes] = useState(likes);\n    const [myPost, setMyPost] = useState(false);\n    const [editMode, setEditMode] = useState(false);\n    const [isDisabled, setIsDisabled] = useState(false);\n    const [isMapOpen, setIsMapOpen] = useState(false);\n    const [actualText, setActualText] = useState(text);\n    const textAreaRef = useRef();\n    const effectTooltip = renderTooltip;\n    const [habilitar,setHabilitar] = useState(true);\n    ReactModal.setAppElement(document.getElementById('root'))\n    const [numberOfReposts, setNumberOfReposts] = useState(repostCount)\n    const [isOpen,setIsopen] = useState(false);\n    const [openFrame,setOpenFrame] = useState(false);\n    const customStyles = {\n        content: {\n          top: '50%',\n          left: '50%',\n          right: 'auto',\n          bottom: 'auto',\n          marginRight: '-50%',\n          transform: 'translate(-50%, -50%)',\n          background: '#333333',\n          borderRadius: '50px',\n          width: '600px',\n          height: '262px',\n          display:'flex',\n          justifyContent: 'center'\n        },\n      };\n  const frameStyle = {\n    content: {\n        top: '50%',\n        left: '50%',\n        right: '50%',\n        bottom: 'auto',\n        transform: 'translate(-50%, -50%)',\n        background: '#333333',\n        borderRadius: '20px',\n        width: '60vw',\n        height: '90vh',\n        display:'flex',\n        justifyContent: 'center',\n      },\n      overlay: {zIndex: 3},\n  }\n    useEffect(() => {\n        if(user.user.id === userInfo.id){\n                setMyPost(true);\n            }\n        if(editMode){\n            checkEditMode();\n        }\n        effectTooltip();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [editMode, effectTooltip]);\n    \n    function isMypost(){\n        if(user.user.id === userInfo.id){\n            return true;\n        }\n        else{\n            return false;\n        }\n    }\n       \n    function AbrirModal(){\n        setIsopen(true);\n    }\n\n    function FecharModal(){\n        setIsopen(false);\n        setOpenFrame(false);\n    }\n    function ApagarPost(id){\n        setHabilitar(false);\n        deletePost(user.token, id).then(Sucesso).catch(Erro);\n    }\n\n    function Sucesso(){\n        setHabilitar(true);\n        setIsopen(false);\n        Swal.fire({\n            icon: \"success\",\n            title: \"Post deletado com sucesso!\",\n        })\n        if(location.pathname === \"/timeline\"){\n            getFollowingUsersPosts(user.token).then((response)=> {\n                setPosts(response.data.posts);\n            })\n        }\n        else if (location.pathname === \"/my-posts\"){\n            getUserPosts({ token: user.token, userId: user.user.id})\n            .then((response) => {\n                setPosts(response.data.posts);\n            })\n        }\n\n    }\n    function Erro(){\n        setHabilitar(true)\n        setIsopen(false);\n        Swal.fire({\n            icon: \"error\",\n            title: \"Ops...\",\n            text: \"Não foi possível excluir o post, tente novamente\"\n        })\n    }\n\n    function checkHashtag() {\n        const textCheck = actualText.split(' ').map((word, index) => {\n            if (word[0] === '#') {\n                return (\n                <Link \n                    key={index} \n                    to={`/hashtag/${word.substring(1)}/posts`\n                    }\n                    >\n                        <HashtagCSS> #{word.substring(1)}</HashtagCSS>\n                </Link>\n                )\n            } else {\n                return ` ${word}`\n            }\n        })\n        return textCheck;\n    }\n    function renderTooltip() {\n        let usersLikes = []\n        if(postLikes.length !== 0) {\n            usersLikes = postLikes.filter(item => {\n                if(item.userId === id) return false;\n                return true;\n            }) \n        }\n        if (postLikes === likes) {\n            switch (postLikes.length) {\n                case 0: \n                    setTooltipMessage('');\n                    return;\n                case 1: \n                    setTooltipMessage(`${liked ? 'Você' : postLikes[0]['user.username']} curtiu`);\n                    break;\n                case 2:\n                    setTooltipMessage(\n                       `${liked ? 'Você e ' + usersLikes[0]['user.username'] \n                            : \n                            postLikes[0]['user.username'] + ' e ' + postLikes[1]['user.username'] \n                        } curtiram`\n                    );\n                    break;\n                default:\n                    setTooltipMessage(\n                        `${liked ? 'Você, ' + usersLikes[0]['user.username'] \n                        : \n                        postLikes[0]['user.username'] + ', ' + postLikes[1]['user.username'] \n                        } e outras ${postLikes.length - 2} pessoas`\n                    );   \n            }\n        } else {\n            switch (postLikes.length) {\n                case 0: \n                    setTooltipMessage('');\n                    return;\n                case 1: \n                    setTooltipMessage(`${liked ? 'Você' : postLikes[0].username} curtiu`);\n                    break;\n                case 2:\n                    setTooltipMessage(\n                       `${liked ? 'Você e ' + usersLikes[0].username \n                            : \n                            postLikes[0].username + ' e ' + postLikes[1].username \n                        } curtiram`\n                    );\n                    break;\n                default:\n                    setTooltipMessage(\n                        `${liked ? 'Você, ' + usersLikes[0].username \n                        : \n                        postLikes[0].username + ', ' + postLikes[1].username \n                        } e outras ${postLikes.length - 2} pessoas`\n                    );   \n            }\n        }\n    }\n\n    function changeLike() {\n        if(!liked) {\n            toggleLike({ token: user.token, postId: id, status: 'like' })\n            .then((response) => {\n                setPostLikes(response.data.post.likes);\n                setLiked(true); \n                });\n        } else {\n            toggleLike({ token: user.token, postId: id, status: 'dislike' })\n            .then((response) => {\n                setPostLikes(response.data.post.likes);\n                setLiked(false);\n                });\n        }\n    }\n\n    function checkEditMode(){\n       textAreaRef.current.focus();\n    }\n\n    function pressedKey(event){\n        if(event.keyCode === 27){\n            setEditMode(false);\n        }\n        if(event.keyCode === 13 && !event.shiftKey){\n            \n            event.preventDefault();\n\n            setIsDisabled(true);\n            \n            const body = {\n                text : actualText\n            };\n\n            editPost({ token: user.token, body: body, postId: id })\n                .then((response) => {\n                    setIsDisabled(false);\n                    setEditMode(false);\n                    setActualText(response.data.post.text)\n                })\n                .catch(() => {\n                    Swal.fire({\n                        icon: 'error',\n                        title: 'Ops...',\n                        text: 'Não foi possível salvar as alterações',\n                    })\n                    textAreaRef.current.focus();\n                })\n        }\n    }\n\n    return (\n        <ContainerUserPost id=\"main\" style={{marginTop: repostedBy ? '50px' : '0'}}>\n            {repostedBy ? <RepostedDiv repostedBy={repostedBy} id={user.user.id}/> : null}\n            <ReactModal\n                isOpen={isOpen}\n                onRequestClose={FecharModal}\n                style={customStyles}\n                contentLabel=\"Example Modal\"\n            >\n                    <BoxModal>\n                        <ModalTitle>{habilitar ? 'Tem certeza que deseja excluir essa publicação' : 'Carregando...' }</ModalTitle>\n                        <div>\n                            <ModalCancel onClick={FecharModal} state={habilitar}>Não, voltar</ModalCancel>\n                            <ModalConfirm onClick={()=>ApagarPost(id)}  state={habilitar}>Sim, excluir</ModalConfirm>\n                        </div>\n                    </BoxModal>\n            </ReactModal>\n            {geolocation ? \n            <ReactModal\n                isOpen={isMapOpen}\n                onRequestClose={() => setIsMapOpen(false)}\n                style={containerMapStyles}\n                contentLabel=\"Example Modal\"\n            >\n            <div className=\"map-header\" style={headerMapStyles}>\n                <ModalTitle style={{fontFamily: 'Oswald, sans-serif', fontWeight: 'bold'}}>\n                    {userInfo.username}'s location\n                </ModalTitle>\n                <span style={{color: 'white', cursor: 'pointer', fontFamily: 'Roboto', fontSize: '30px'}} onClick={() =>setIsMapOpen(false)}>x</span>\n                </div>\n            <MapContainer \n                center={[geolocation.latitude, geolocation.longitude]} \n                zoom={14} \n                scrollWheelZoom={false} \n                style={mapStyle}>\n                <TileLayer\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                />\n                <Marker position={[geolocation.latitude, geolocation.longitude]}>\n                    <Popup>\n                        {userInfo.username}\n                    </Popup>\n                </Marker>\n            </MapContainer>\n            </ReactModal>\n            : null }\n                <div className=\"photo-and-likes\">\n                    <Link to={`/user/${userId}`}>\n                        <img src={userInfo.avatar} alt=''/>\n                    </Link>\n                    <Interaction data-tip={tooltipMessage} >\n                    <Likes\n                        data-tip={tooltipMessage}\n                        onClick={changeLike}>\n                        {liked ? \n                            <AiFillHeart\n                            style={{color: '#ac0000'}} \n                            onClick={changeLike} \n                            /> \n                            : \n                            <AiOutlineHeart \n                            onClick={changeLike}\n                            />\n                        }\n                        <p>{postLikes.length} {postLikes.length <= 1 ? 'like' : 'likes'}</p>\n                        <ReactTooltip \n                            place=\"bottom\"\n                            type=\"light\"\n                            backgroundColor=\"#FFFFFF30\"\n                            textColor=\"#505050\"\n                            />\n                    </Likes>\n                    </Interaction>\n                </div>\n            <MainContent>\n            <div className=\"main-post\">\n                <div className=\"top-post\">\n                    <div className=\"name-and-location\" >\n                    <Link to={`/user/${userId}`}><p><strong style={{maxWidth: '611px', wordBreak: 'break-word'}}>{userInfo.username}</strong></p></Link>\n                    {!!geolocation ? <FaMapMarkerAlt onClick={() => setIsMapOpen(true)} style={{fontSize: '16px', color: '#FFFFFF', marginLeft: '5px', cursor: 'pointer'}}/> : null}\n                    </div>\n                    <Interaction>\n                    <div className=\"icons\">\n                        {myPost ? <TiPencil onClick={() => setEditMode(!editMode)} style={{cursor: 'pointer'}}/> : <p></p>}\n                        {isMypost() ? <FiTrash onClick={AbrirModal} style={{marginLeft:'10px', cursor: 'pointer'}}/> : <p></p>}\n                    </div>\n                    </Interaction>\n                    <RepostButton \n                        postId={id} \n                        token={user.token} \n                        numberOfReposts={numberOfReposts} \n                        setNumberOfReposts={setNumberOfReposts}\n                        setPosts={setPosts}\n                        posts={posts}\n                        customStyles={customStyles}\n                    />\n                </div>\n            </div>\n                <ReactModal\n                    isOpen={openFrame}\n                    onRequestClose={FecharModal}\n                    style={frameStyle}\n                    contentLabel=\"Example Modal\"\n                >\n                    <BoxFrame>\n                        <div>\n                            <button onClick={() =>{window.open(link, \"_blank\")}}>Open in new tab</button>\n                            <p onClick={FecharModal}>X</p>\n                        </div>\n                        <iframe title=\"Link\" src={link} width=\"100%\" height=\"95%\" />\n                    </BoxFrame> \n                </ReactModal>\n                    <div className=\"main-post\">\n                        <div className=\"top-post\">\n                            <Link to={`/user/${userId}`}><p><strong>{userInfo.username}</strong></p></Link>\n                                <div className=\"icons\">\n                                {myPost ? <TiPencil onClick={() => setEditMode(!editMode)} style={{cursor: 'pointer'}}/> : <p></p>}\n                                {isMypost() ? <FiTrash onClick={AbrirModal} style={{marginLeft:'10px'}}/> : <p></p>}\n                                </div>\n                        </div>\n                        {editMode ? \n                            <EditBox \n                                type=\"text\"\n                                value={actualText}\n                                onChange={(e) => setActualText(e.target.value)}\n                                ref={textAreaRef}\n                                onKeyDown={(e) => pressedKey(e)}\n                                disabled={isDisabled}/>\n                            :\n                            <p>{checkHashtag()}</p>}\n                            {checkYoutubeLink(link) ? \n                            <>\n                                <iframe src={`https://www.youtube.com/embed/${getYouTubeID(link)}`} title=\"video\" width=\"100%\" height=\"320px\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                                allowFullScreen/>\n                                <p onClick={() =>{window.open(link, \"_blank\")}} style={{cursor:'pointer'}}>{link}</p>\n                            </>\n                            :\n                        <div className=\"link-content\" onClick={()=>setOpenFrame(true)}>\n                            <div className=\"link-description\">\n                                <p>{linkTitle}</p>\n                                <p>{linkDescription}</p>\n                                <p>{link}</p>\n                            </div>\n                            <img src={linkImage ? linkImage : DefaultImg} alt='' />\n                        </div>}\n                    </div>\n            </MainContent>\n        </ContainerUserPost>\n    )\n}"]},"metadata":{},"sourceType":"module"}